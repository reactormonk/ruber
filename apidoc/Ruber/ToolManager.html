<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Ruber::ToolManager</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (T)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Ruber.html" title="Ruber (module)">Ruber</a></span></span>
     &raquo; 
    <span class="title">ToolManager</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ruber::ToolManager
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Ruber::ToolManager</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ruber/main_window/tool_manager.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Class which manages the tools on the sides of the main window. It allows
 to add tool widget, retreive them basing on their <tt>object_name</tt> and show,
 hide and activate them. Just before hiding the tool widget, the <tt>about_to_hide</tt>
 signal is emitted</p>
This class only allows a tool container for each side of the window. The possible
sides are left, right and bottom.

  </div>
</div>
<div class="tags">
  
</div><h2>Defined Under Namespace</h2>
<p class="children">
   
    
   
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="ToolManager/Container.html" title="Ruber::ToolManager::Container (class)">Container</a></span>, <span class='object_link'><a href="ToolManager/Tool.html" title="Ruber::ToolManager::Tool (class)">Tool</a></span>, <span class='object_link'><a href="ToolManager/ToolStackedWidget.html" title="Ruber::ToolManager::ToolStackedWidget (class)">ToolStackedWidget</a></span>
    
  
</p>



  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-instance_method" title="#[] (instance method)">- (Object) <strong>[]</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns the tool with the given name or <ins>nil</ins> if no tool with that name exists.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#activate_tool-instance_method" title="#activate_tool (instance method)">- (Object) <strong>activate_tool</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes a tool visible and gives it focus.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#add_container-instance_method" title="#add_container (instance method)">- (Object) <strong>add_container</strong>(side) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new container for the given side.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#add_tool-instance_method" title="#add_tool (instance method)">- (Object) <strong>add_tool</strong>(side, widget, icon, caption) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Adds a tool to one of the three tool containers.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#container_visible%3F-instance_method" title="#container_visible? (instance method)">- (Boolean) <strong>container_visible?</strong>(side) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Tells whether the tool container in the given side is visible or not.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#hide_tool-instance_method" title="#hide_tool (instance method)">- (Object) <strong>hide_tool</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Hides a tool.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (ToolManager) <strong>initialize</strong> </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new <ins>ToolManager</ins>.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#remove_tool-instance_method" title="#remove_tool (instance method)">- (Object) <strong>remove_tool</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Removes a tool widget from its container.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#set_tool_status-instance_method" title="#set_tool_status (instance method)">- (Object) <strong>set_tool_status</strong>(tool, opts) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Changes the status of a tool widget.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#show_tool-instance_method" title="#show_tool (instance method)">- (Object) <strong>show_tool</strong>(arg) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes a tool visible, but leaves the focus to the widget that has it.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#toggle_last_tool-instance_method" title="#toggle_last_tool (instance method)">- (Object) <strong>toggle_last_tool</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="public ">
  <span class="summary_signature">
    
      <a href="#toggle_tool-instance_method" title="#toggle_tool (instance method)">- (Object) <strong>toggle_tool</strong>(arg) </a>
    

    
  </span>
  
  
  
    <span class="note title"><strong>slot</strong></span>
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Makes a tool visible and active if it is hidden or hides it if it is visible.</p></div></span>
  
</li>

      
        <!-- Provides the  slot annotation -->
<li class="private ">
  <span class="summary_signature">
    
      <a href="#widget_with_name-instance_method" title="#widget_with_name (instance method)">- (Object) <strong>widget_with_name</strong>(name) </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  

  
    <span class="summary_desc"><div class='inline'><p>Returns tool widget with the given name or <ins>nil</ins> if a tool with the given name.</p></div></span>
  
</li>

      
    </ul>
  



  <h2>Signal Summary</h2>
  <ul class="summary" >
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#about_to_hide-signalcode" title="about_to_hide (signalcode)">- <strong>about_to_hide</strong>(QString arg1) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#tool_activated-signalcode" title="tool_activated (signalcode)">- <strong>tool_activated</strong>(QWidget* arg1, QString arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
    <li class="public ">
      <span class="summary_signature">
<!-- The sub is needed to remove the (Object) part -->
      <a href="#tool_hidden-signalcode" title="tool_hidden (signalcode)">- <strong>tool_hidden</strong>(QWidget* arg1, QString arg2) </a>
      </span>
      <span class="summary_desc"><div class='inline'></div></span>
    </li>
  
  </ul>





<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ruber::ToolManager (class)">ToolManager</a></span></tt>) <strong>initialize</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new <ins>ToolManager</ins>.</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


82
83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 82</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span>
  <span class='id window'>window</span> <span class='op'>=</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id window'>window</span><span class='rparen'>)</span>
  <span class='ivar'>@next_id</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@tools</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@ids</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@containers</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:left</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:right</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='symbol'>:bottom</span> <span class='op'>=&gt;</span> <span class='kw'>nil</span><span class='rbrace'>}</span>
  <span class='ivar'>@last_used_tool</span> <span class='op'>=</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="[]-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>[]</strong>(name) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns the tool with the given name or <ins>nil</ins> if no tool with that name exists.
 =Arguments
 <em>name_:: the <tt>object</em>name</tt> of the widget (as string or symbol)</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 207</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id name'>name</span><span class='rparen'>)</span>
  <span class='id info'>info</span> <span class='op'>=</span> <span class='id widget_with_name'>widget_with_name</span>
  <span class='id info'>info</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="activate_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>activate_tool</strong>(arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Makes a tool visible and gives it focus
 =Arguments
 <em>arg</em>:: the tool widget or its name (either as a string or as a symbol)</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 180</span>

<span class='kw'>def</span> <span class='id activate_tool'>activate_tool</span> <span class='id arg'>arg</span>
  <span class='id set_tool_status'>set_tool_status</span> <span class='id arg'>arg</span><span class='comma'>,</span> <span class='symbol'>:open</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:current</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:active</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_container-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add_container</strong>(side) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new container for the given side. <ins>ArgumentError</ins> is raised if a
 container for that side already exists.</p>
Returns an array containing the button bar and the stack widget for the container.
=Arguments
<em>side</em>:: the side for which the container should be created, as symbol.

  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 100</span>

<span class='kw'>def</span> <span class='id add_container'>add_container</span> <span class='id side'>side</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>there's already a tool container for </span><span class='embexpr_beg'>#{</span><span class='id side'>side</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span>
  <span class='id bar'>bar</span> <span class='op'>=</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MultiTabBar</span><span class='period'>.</span><span class='id new'>new</span> <span class='const'>KDE</span><span class='op'>::</span><span class='const'>MultiTabBar</span><span class='period'>.</span><span class='id const_get'>const_get</span><span class='lparen'>(</span><span class='id side'>side</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='period'>.</span><span class='id capitalize'>capitalize</span><span class='rparen'>)</span>
  <span class='id bar'>bar</span><span class='period'>.</span><span class='id size_policy'>size_policy</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id side'>side</span> <span class='op'>==</span> <span class='symbol'>:bottom</span>
    <span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='op'>::</span><span class='const'>Preferred</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='op'>::</span><span class='const'>Fixed</span><span class='rparen'>)</span>
  <span class='kw'>else</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='op'>::</span><span class='const'>Fixed</span><span class='comma'>,</span> <span class='const'>Qt</span><span class='op'>::</span><span class='const'>SizePolicy</span><span class='op'>::</span><span class='const'>Preferred</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id stack'>stack</span> <span class='op'>=</span> <span class='const'>ToolStackedWidget</span><span class='period'>.</span><span class='id new'>new</span>
  <span class='id stack'>stack</span><span class='period'>.</span><span class='id hide'>hide</span>
  <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Container</span><span class='period'>.</span><span class='id new'>new</span> <span class='id bar'>bar</span><span class='comma'>,</span> <span class='id stack'>stack</span><span class='comma'>,</span> <span class='id side'>side</span>
  <span class='lbracket'>[</span><span class='id bar'>bar</span><span class='comma'>,</span> <span class='id stack'>stack</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="add_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>add_tool</strong>(side, widget, icon, caption) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Adds a tool to one of the three tool containers.
 =Arguments
 <em>side</em>:: on which side of the window the tool should be added. It can be 
          <tt>:left</tt>, <tt>:right</tt> or <tt>:bottom/<tt>
 <em>widget</em>:: the tool widget. If the <strong>same</strong> (in the sense of <tt>eql?</tt>) widget
            has already been added (indipendent of the side), then <ins>ArgumentError</ins>
            will be raised
 <em>icon</em>:: the <tt>Qt::Pixmap</tt> to display on the button
 <em>caption</em>:: the text to display</p>

  </div>
</div>
<div class="tags">
  <h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 124</span>

<span class='kw'>def</span> <span class='id add_tool'>add_tool</span> <span class='id side'>side</span><span class='comma'>,</span> <span class='id widget'>widget</span><span class='comma'>,</span> <span class='id icon'>icon</span><span class='comma'>,</span> <span class='id caption'>caption</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>This tool already exists</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@tools</span><span class='period'>.</span><span class='id has_key?'>has_key?</span><span class='lparen'>(</span><span class='id widget'>widget</span><span class='rparen'>)</span>
  <span class='id id'>id</span> <span class='op'>=</span> <span class='ivar'>@next_id</span>
  <span class='ivar'>@next_id</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='id container'>container</span> <span class='op'>=</span> <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span>
  <span class='id container'>container</span><span class='period'>.</span><span class='id stack'>stack</span><span class='period'>.</span><span class='id add_widget'>add_widget</span> <span class='id widget'>widget</span>
  <span class='id container'>container</span><span class='period'>.</span><span class='id button_bar'>button_bar</span><span class='period'>.</span><span class='id append_tab'>append_tab</span> <span class='id icon'>icon</span><span class='comma'>,</span> <span class='id id'>id</span><span class='comma'>,</span> <span class='id caption'>caption</span>
  <span class='ivar'>@ids</span><span class='lbracket'>[</span><span class='id id'>id</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id widget'>widget</span>
  <span class='ivar'>@tools</span> <span class='lbracket'>[</span><span class='id widget'>widget</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>Tool</span><span class='period'>.</span><span class='id new'>new</span> <span class='id side'>side</span><span class='comma'>,</span> <span class='id id'>id</span>
  <span class='id connect'>connect</span> <span class='id container'>container</span><span class='period'>.</span><span class='id button_bar'>button_bar</span><span class='period'>.</span><span class='id tab'>tab</span><span class='lparen'>(</span><span class='id id'>id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>SIGNAL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>clicked(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>self</span><span class='comma'>,</span> 
<span class='const'>SLOT</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>toggle_tool(int)</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="container_visible?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>container_visible?</strong>(side) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Tells whether the tool container in the given side is visible or not. If the
 container doesn&#8217;t exist, <ins>nil</ins> is returned.
 =Arguments
 <em>side</em>:: the side of the container.</p>

  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 218</span>

<span class='kw'>def</span> <span class='id container_visible?'>container_visible?</span><span class='lparen'>(</span><span class='id side'>side</span><span class='rparen'>)</span>
  <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id stack'>stack</span><span class='period'>.</span><span class='id visible?'>visible?</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="hide_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>hide_tool</strong>(arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Hides a tool
 =Arguments
 <em>arg</em>:: the tool widget or its name (either as a string or as a symbol)</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 198</span>

<span class='kw'>def</span> <span class='id hide_tool'>hide_tool</span> <span class='id arg'>arg</span>
  <span class='id set_tool_status'>set_tool_status</span> <span class='id arg'>arg</span><span class='comma'>,</span> <span class='symbol'>:open</span> <span class='op'>=&gt;</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="remove_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>remove_tool</strong>(arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Removes a tool widget from its container.
 =Arguments
 <em>arg</em>:: the widget to remove or its name, either as string or symbol. If the
         tool doesn&#8217;t exist, nothing is done</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


143
144
145
146
147
148
149
150
151
152</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 143</span>

<span class='kw'>def</span> <span class='id remove_tool'>remove_tool</span> <span class='id arg'>arg</span>
  <span class='id w'>w</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id arg'>arg</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span> <span class='kw'>or</span> <span class='id arg'>arg</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Symbol</span> <span class='kw'>then</span> <span class='id widget_with_name'>widget_with_name</span> <span class='id arg'>arg</span>
  <span class='kw'>else</span> <span class='id w'>w</span>
  <span class='kw'>end</span>
  <span class='id tool'>tool</span> <span class='op'>=</span> <span class='ivar'>@tools</span><span class='lbracket'>[</span><span class='id w'>w</span><span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>unless</span> <span class='id tool'>tool</span>
  <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id tool'>tool</span><span class='period'>.</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id button_bar'>button_bar</span><span class='period'>.</span><span class='id remove_tab'>remove_tab</span> <span class='id tool'>tool</span><span class='period'>.</span><span class='id id'>id</span>
  <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id tool'>tool</span><span class='period'>.</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id stack'>stack</span><span class='period'>.</span><span class='id remove_widget'>remove_widget</span> <span class='id w'>w</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="set_tool_status-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>set_tool_status</strong>(tool, opts)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Changes the status of a tool widget.</p>
<p>==== Arguments
<em>tool</em>:: the widget or its name
<em>opts</em>::
 a hash with the new status of the widget. The following keys are understood:
 <tt>:open</tt>: if given and true means that the tool container should be visible; 
 if given and false it means that it should be hidden (in this case, the other
 options are ignored). If not given, the status
 remains unchanged. <tt>:current</tt>: if given and true, the tool widget becomes
 the current widget; if not given, the current widget isn&#8217;t changed. <tt>:active</tt>
 if given and true, the tool widget becomes the active widget; otherwise the
 focus isn&#8217;t changed (<b>Note:</b> if <em>tool</em> isn&#8217;t the current widget,
 <tt>:active</tt> will be ignored).</p>
====<span class="caps">TODO</span>
See whether it wouldn&#8217;t be better if this method did nothing unless <em>tool</em> is
not the current widget and <tt>:current</tt> is not specified.

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 249</span>

<span class='kw'>def</span> <span class='id set_tool_status'>set_tool_status</span> <span class='id tool'>tool</span><span class='comma'>,</span> <span class='id opts'>opts</span>
  <span class='id w'>w</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id tool'>tool</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>String</span> <span class='kw'>or</span> <span class='id tool'>tool</span><span class='period'>.</span><span class='id is_a?'>is_a?</span> <span class='const'>Symbol</span>
    <span class='id w'>w</span> <span class='op'>=</span> <span class='id widget_with_name'>widget_with_name</span><span class='lparen'>(</span><span class='id tool'>tool</span><span class='rparen'>)</span> 
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No tool called </span><span class='embexpr_beg'>#{</span><span class='id tool'>tool</span><span class='rbrace'>}</span><span class='tstring_content'> exists</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span> <span class='id tool'>tool</span>
  <span class='kw'>end</span>
  <span class='id side'>side</span> <span class='op'>=</span> <span class='ivar'>@tools</span><span class='lbracket'>[</span><span class='id w'>w</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id side'>side</span>
  <span class='id container'>container</span> <span class='op'>=</span> <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id stack'>stack</span>
  <span class='id bar'>bar</span> <span class='op'>=</span> <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id button_bar'>button_bar</span>
  <span class='kw'>if</span> <span class='id opts'>opts</span><span class='period'>.</span><span class='id has_key?'>has_key?</span> <span class='symbol'>:open</span>
    <span class='id emit'>emit</span> <span class='id about_to_hide'>about_to_hide</span><span class='lparen'>(</span><span class='id side'>side</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:open</span><span class='rbracket'>]</span>
    <span class='id container'>container</span><span class='period'>.</span><span class='id visible'>visible</span> <span class='op'>=</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:open</span><span class='rbracket'>]</span>
    <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id button_bar'>button_bar</span><span class='period'>.</span><span class='id set_tab'>set_tab</span> <span class='ivar'>@tools</span><span class='lbracket'>[</span><span class='id container'>container</span><span class='period'>.</span><span class='id current_widget'>current_widget</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id id'>id</span><span class='comma'>,</span> 
        <span class='id container'>container</span><span class='period'>.</span><span class='id visible'>visible</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:open</span><span class='rbracket'>]</span>
      <span class='id emit'>emit</span> <span class='id tool_hidden'>tool_hidden</span><span class='lparen'>(</span> <span class='id container'>container</span><span class='period'>.</span><span class='id current_widget'>current_widget</span><span class='comma'>,</span> <span class='id side'>side</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span>
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id activate_editor'>activate_editor</span> <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id current_editor'>current_editor</span>
      <span class='const'>Ruber</span><span class='lbracket'>[</span><span class='symbol'>:main_window</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id focus_on_editor'>focus_on_editor</span>
      <span class='kw'>return</span> <span class='comment'>#Don't use the other options if the tool widget is closed.
</span>    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:current</span><span class='rbracket'>]</span>
    <span class='id old'>old</span> <span class='op'>=</span> <span class='id container'>container</span><span class='period'>.</span><span class='id current_widget'>current_widget</span>
    <span class='id container'>container</span><span class='period'>.</span><span class='id current_widget'>current_widget</span> <span class='op'>=</span> <span class='id w'>w</span>
    <span class='id emit'>emit</span> <span class='id tool_hidden'>tool_hidden</span><span class='lparen'>(</span> <span class='id old'>old</span><span class='comma'>,</span> <span class='id side'>side</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id old'>old</span><span class='period'>.</span><span class='id hidden?'>hidden?</span>
    <span class='id emit'>emit</span> <span class='id tool_activated'>tool_activated</span><span class='lparen'>(</span> <span class='id w'>w</span><span class='comma'>,</span> <span class='id side'>side</span><span class='period'>.</span><span class='id to_s'>to_s</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id w'>w</span><span class='period'>.</span><span class='id visible?'>visible?</span>
    <span class='ivar'>@tools</span><span class='period'>.</span><span class='id each_pair'>each_pair</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id widget'>widget</span><span class='comma'>,</span> <span class='id data'>data</span><span class='op'>|</span>
      <span class='id bar'>bar</span><span class='period'>.</span><span class='id set_tab'>set_tab</span> <span class='id data'>data</span><span class='period'>.</span><span class='id id'>id</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id widget'>widget</span><span class='op'>==</span><span class='id w'>w</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id data'>data</span><span class='period'>.</span><span class='id side'>side</span> <span class='op'>==</span> <span class='id side'>side</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id w'>w</span><span class='period'>.</span><span class='id set_focus'>set_focus</span> <span class='kw'>if</span> <span class='id opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:active</span><span class='rbracket'>]</span> <span class='kw'>and</span> <span class='id container'>container</span><span class='period'>.</span><span class='id current_widget'>current_widget</span> <span class='op'>==</span> <span class='id w'>w</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="show_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>show_tool</strong>(arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Makes a tool visible, but leaves the focus to the widget that has it
 =Arguments
 <em>arg</em>:: the tool widget or its name (either as a string or as a symbol)</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 189</span>

<span class='kw'>def</span> <span class='id show_tool'>show_tool</span> <span class='id arg'>arg</span>
  <span class='id set_tool_status'>set_tool_status</span> <span class='id arg'>arg</span><span class='comma'>,</span> <span class='symbol'>:open</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:current</span> <span class='op'>=&gt;</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="toggle_last_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>toggle_last_tool</strong> 
  

  
</p><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 223</span>

<span class='kw'>def</span> <span class='id toggle_last_tool'>toggle_last_tool</span>
  <span class='id toggle_tool'>toggle_tool</span> <span class='ivar'>@last_used_tool</span> <span class='kw'>if</span> <span class='ivar'>@last_used_tool</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="toggle_tool-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>toggle_tool</strong>(arg) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Makes a tool visible and active if it is hidden or hides it if it is visible
 =Arguments
 <em>arg</em>:: the tool widget or its name (either as a string or as a symbol)</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162
163
164
165
166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 159</span>

<span class='kw'>def</span> <span class='id toggle_tool'>toggle_tool</span> <span class='id arg'>arg</span>
  <span class='id w'>w</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id arg'>arg</span> 
  <span class='kw'>when</span> <span class='const'>Integer</span> <span class='kw'>then</span> <span class='ivar'>@ids</span><span class='lbracket'>[</span><span class='id arg'>arg</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='const'>String</span><span class='comma'>,</span> <span class='const'>Symbol</span>
    <span class='id res'>res</span> <span class='op'>=</span> <span class='id widget_with_name'>widget_with_name</span> <span class='id arg'>arg</span>
    <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No tool with name </span><span class='embexpr_beg'>#{</span><span class='id arg'>arg</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id res'>res</span>
    <span class='id res'>res</span>
  <span class='kw'>else</span> <span class='id arg'>arg</span>
  <span class='kw'>end</span>
  <span class='id stack'>stack</span> <span class='op'>=</span> <span class='ivar'>@containers</span><span class='lbracket'>[</span><span class='ivar'>@tools</span><span class='lbracket'>[</span><span class='id w'>w</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id side'>side</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id stack'>stack</span>
  <span class='kw'>if</span> <span class='id w'>w</span><span class='period'>.</span><span class='id hidden?'>hidden?</span> <span class='kw'>or</span> <span class='id stack'>stack</span><span class='period'>.</span><span class='id hidden?'>hidden?</span> <span class='kw'>or</span> <span class='id stack'>stack</span><span class='period'>.</span><span class='id current_widget'>current_widget</span> <span class='op'>!=</span><span class='id w'>w</span>
    <span class='id activate_tool'>activate_tool</span><span class='lparen'>(</span><span class='id w'>w</span><span class='rparen'>)</span>
  <span class='kw'>else</span> <span class='id hide_tool'>hide_tool</span><span class='lparen'>(</span><span class='id w'>w</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>      <h3 style="font-size: 1em; margin-bottom: 0;">Slot Signature:</h3>
      <p style="margin-top: 5pt;"><tt>toggle_tool(int)</tt></p>

    
      <div class="method_details ">
  <p class="signature " id="widget_with_name-instance_method">
  
    - (<tt><span class='object_link'><a href="../Object.html" title="Object (class)">Object</a></span></tt>) <strong>widget_with_name</strong>(name)  <span class="extras">(private)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Returns tool widget with the given name or <ins>nil</ins> if a tool with the given name
 doesn&#8217;t exist.
 =Arguments
 <em>name</em>:: the name of the tool, as string or symbol</p>

  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


288
289
290
291
292</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ruber/main_window/tool_manager.rb', line 288</span>

<span class='kw'>def</span> <span class='id widget_with_name'>widget_with_name</span> <span class='id name'>name</span>
  <span class='id name'>name</span> <span class='op'>=</span> <span class='id name'>name</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='id res'>res</span> <span class='op'>=</span> <span class='ivar'>@tools</span><span class='period'>.</span><span class='id find'>find</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id k'>k</span><span class='comma'>,</span> <span class='id v'>v</span><span class='op'>|</span> <span class='id k'>k</span><span class='period'>.</span><span class='id object_name'>object_name</span> <span class='op'>==</span> <span class='id name'>name</span><span class='rbrace'>}</span>
  <span class='id res'>res</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='kw'>rescue</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>



  <div id="instance_method_details" class="method_details_list">
    <h2>Signal Details</h2>
    
      <div class="method_details first">
  <p class="signature first" id="about_to_hide-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>about_to_hide</strong>(QString arg1) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tool_activated-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>tool_activated</strong>(QWidget* arg1, QString arg2) 
</p>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tool_hidden-signalcode">
<!-- The sub is needed to remove the (Object) part -->
  - <strong>tool_hidden</strong>(QWidget* arg1, QString arg2) 
</p>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Mon Oct 11 18:31:39 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.1 (ruby-1.9.2).
</div>

  </body>
</html>